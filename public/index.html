<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProactifSystem ‚Äî IA sur mesure</title>

  <!-- ‚úÖ Favicon universel -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

  <!-- ‚úÖ Apple / iOS -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

  <!-- ‚úÖ Android / PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

  <!-- ‚úÖ Manifest + couleur de th√®me -->
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#2563eb">

  <!-- Fonts & styles -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="/chatbot.css" />
</head>

<body>
  <header class="hero">
    <nav class="nav">
      <div class="brand">ProactifSystem</div>
      <div class="links">
        <a href="#solutions">Solutions</a>
        <a href="#contact">Contact</a>
        <button id="faq-menu-btn" class="faq-link">‚ùì FAQ</button>
      </div>
    </nav>
    <div class="hero-inner">
      <h1>L'IA au service de votre productivit√©</h1>
      <p>Automatisation intelligente, <strong>analyse de graphiques IA</strong>, chatbots et dashboards.</p>
      <div class="cta">
        <a class="btn" id="open-agent" href="#">Parler √† l'agent</a>
      </div>
    </div>
  </header>

  <main>
    <section id="solutions" class="bento">
      <article class="card">
        <h3>Applications & Logiciels sur mesure</h3>
        <p>Outils web, scripts, int√©grations API, automatisations adapt√©es √† votre m√©tier.</p>
      </article>
      <article class="card">
        <h3>Automatisation IA</h3>
        <p>Emails, CRM, reporting, workflows sans t√¢ches r√©p√©titives.</p>
      </article>
      <article class="card">
        <h3>Analyse de donn√©es & Dashboards</h3>
        <p>KPIs, rapports visuels, d√©cision assist√©e par l'IA.</p>
      </article>
      <article class="card">
        <h3>Chatbots & Agents</h3>
        <p>Support, qualification, collecte de leads, FAQ intelligente.</p>
      </article>
    </section>

    <section id="contact" class="contact">
      <h2>Laissez-nous vos informations de contact pour qu‚Äôon puisse √©changer sur vos besoins.</h2>

      <form id="lead-form" class="form" autocomplete="on">
        <input name="name" type="text" placeholder="Votre nom" autocomplete="name" required />
        <input name="company" type="text" placeholder="Nom de votre entreprise" autocomplete="organization" />
        <input name="email" type="email" placeholder="Votre e-mail" autocomplete="email" required />
        <label for="phone">Num√©ro de t√©l√©phone (avec indicatif)</label>
        <input id="phone" name="phone" type="tel" placeholder="+33 6 12 34 56 78" autocomplete="tel" required />

        <small style="display:block; margin-top:-0.5em; margin-bottom:1em; font-size:0.85em; color:#ccc;">
          
        </small>

        <textarea name="message" rows="5" placeholder="D√©crivez votre besoin" autocomplete="off"></textarea>

        <!-- ‚úÖ reCAPTCHA invisible (v3) -->
        <input type="hidden" name="token" id="recaptcha-token">

        <button class="btn" type="submit">Envoyer</button>
        <p id="lead-status" class="status" aria-live="polite"></p>
      </form>
    </section>
  </main>

  <footer class="footer">
    <p>¬© 2025 ProactifSyst√®me ‚Äî IA sur mesure</p>
    <button id="legal-toggle" class="legal-btn">Mentions l√©gales & Confidentialit√©</button>

    <!-- üß© Panneau masqu√© -->
    <div id="legal-panel" class="legal-panel" style="display:none;">
      <h3>Mentions l√©gales</h3>
      <p><strong>√âditeur :</strong> ProactifSyst√®me, g√©r√©e par Didier Sellin.</p>
      <p><strong>Email :</strong> contact@proactifsysteme.fr</p>
      <p><strong>H√©bergement :</strong> Serveur priv√© (Node.js / Express).</p>

      <h3>Politique de confidentialit√©</h3>
      <p>Les donn√©es collect√©es via ce site (nom, email, t√©l√©phone, message) sont utilis√©es uniquement
        pour r√©pondre √† vos demandes et ne sont jamais partag√©es avec des tiers.</p>
      <p>Vos donn√©es personnelles seront conserv√©es pendant une dur√©e d‚Äôun an √† compter de leur collecte. Au-del√†
        de cette p√©riode, elles seront supprim√©es ou anonymis√©es conform√©ment √† nos engagements en mati√®re de protection
        des donn√©es.</p>
      <p>Vous pouvez demander la suppression de vos donn√©es en √©crivant √†
        <a href="mailto:contact@proactifsysteme.fr">contact@proactifsysteme.fr</a>.
      </p>

      <p>Ce site utilise Google reCAPTCHA pour se prot√©ger contre le spam.
        <a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Politique de confidentialit√©</a>
        et <a href="https://policies.google.com/terms" target="_blank" rel="noopener">Conditions d'utilisation</a> de
        Google s‚Äôappliquent.
      </p>

      <button id="legal-close" class="legal-btn-close">Fermer</button>
    </div>
  </footer>

  <!-- ‚úÖ Chatbot -->
  <div id="agent-widget" aria-live="polite">
    <div class="bubble">Je suis l√† pour vous aider !</div>
    <button id="agent-toggle" aria-label="Ouvrir le chat">ü§ñ</button>

    <div id="agent-panel">
      <div id="agent-header">
        <strong>Agent ProactifSyst√®me</strong>
        <div id="agent-controls">
          <button id="agent-minimize" type="button" title="R√©duire" aria-label="R√©duire">‚Äî</button>
          <button id="agent-expand" type="button" title="Agrandir" aria-label="Agrandir">‚§¢</button>
          <button id="agent-close" type="button" title="Fermer" aria-label="Fermer">‚úï</button>
        </div>
      </div>

      <div id="agent-log"></div>

      <div id="agent-toolbar">
        <button id="agent-clear" title="Effacer l‚Äôhistorique">üóëÔ∏è</button>
        <button id="faq-open" title="Questions fr√©quentes">üìã FAQ</button>
      </div>

      <form id="agent-form" autocomplete="off">
        <input id="agent-input" type="text" placeholder="Posez votre question‚Ä¶" />
        <button id="agent-mic" type="button" title="Parler">üé§</button>
        <button type="submit">Envoyer</button>
      </form>
    </div>
  </div>

  <!-- ‚úÖ Scripts -->
  <script src="/js/config.js" defer></script>
  <script src="/js/agent.js" defer></script>

  <!-- ‚úÖ Script Mentions l√©gales -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggleBtn = document.getElementById("legal-toggle");
      const legalPanel = document.getElementById("legal-panel");
      const closeBtn = document.getElementById("legal-close");

      if (!toggleBtn || !legalPanel) return;
      legalPanel.style.display = "none";

      toggleBtn.addEventListener("click", () => {
        const isVisible = legalPanel.style.display === "block";
        legalPanel.style.display = isVisible ? "none" : "block";
        legalPanel.scrollIntoView({ behavior: "smooth", block: "center" });
      });

      closeBtn?.addEventListener("click", () => {
        legalPanel.style.display = "none";
      });

      document.addEventListener("click", (e) => {
        if (
          legalPanel.style.display === "block" &&
          !legalPanel.contains(e.target) &&
          e.target !== toggleBtn
        ) {
          legalPanel.style.display = "none";
        }
      });
    });
  </script>

  <!-- ‚úÖ Script reCAPTCHA v3 -->
  <script src="https://www.google.com/recaptcha/api.js?render=6LeAVAksAAAAAJCJqveZyvOWyJ12B3dhPexH2y5G"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('lead-form');
      if (!form) return;

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        grecaptcha.ready(async () => {
          const token = await grecaptcha.execute('6LeAVAksAAAAAJCJqveZyvOWyJ12B3dhPexH2y5G', { action: 'submit' });

          const data = Object.fromEntries(new FormData(form).entries());
          data.token = token;

          const res = await fetch('/api/lead', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });

          const result = await res.json();
          const status = document.getElementById('lead-status');
          if (status) {
            status.textContent = result.message || 'Erreur serveur.';
            status.style.color = result.ok ? '#00cc66' : '#ff4444';
          }

          if (result.ok) form.reset();
        });
      });
    });
  </script>
</body>
</html>
